# 地図画像トポロジーエディタ (Map Topology Editor)

地図画像を読み込み、その上にノード（地点）とウェイ（経路）を配置してトポロジーデータを作成するためのエディタです。
作成したデータは、AIナビゲーションや経路探索シミュレーションなどの用途での利用を想定しています。

**GitHub Pages**: [https://Yasabihhagure.github.io/MapTopologyEditor/](https://Yasabihhagure.github.io/MapTopologyEditor/)

## 使い方

1. **地図画像の準備**: ローカルにある地図画像ファイル（.png, .gif 等）を「画像を開く」ボタンからアップロードします。
2. **縮尺の設定**:
   * 地図上の既知の2点（例：スケールバーの両端や、距離が分かっている交差点間など）をクリックします。
   * 表示されるダイアログに、その2点間の実際の距離を入力します（例：`500 m`, `10 km`）。
3. **ノード・ウェイの編集**:
   * **編集モード**を選択します。
   * 地図上をクリックして**ノード（地点）**を追加します。
   * ノードを選択し、`Shift`キーを押しながら別のノードをクリックすると、その間をつなぐ**ウェイ（経路）**が作成されます。
   * 作成したノードやウェイを選択すると、右側のパネルで詳細情報（名称や種類）を編集できます。
4. **データの保存**:
   * 「JSON出力」ボタンで、作成したデータをJSONファイルとしてダウンロードできます。
   * 「画像保存」ボタンで、編集中の地図（UI非表示）を画像として保存できます。

## 機能 (Ver: v1.0.0)

* **地図画像の読み込み**: ローカルの画像ファイル(png, gif等)をアップロードして背景として使用。
* **トポロジー編集**:
  * **Node (ノード)**: クリックで追加、ドラッグで移動。名称や種類(Place)を設定可能。
  * **Way (ウェイ)**: 始点ノードを選択し、`Shift`+クリックで終点ノードを指定して接続。名称や種類(Highway)を設定可能。
  * **削除**: `Delete` または `Backspace` キーで選択中の要素を削除。
* **縮尺設定**:
  * 地図上の2点をクリックして物理的な距離を設定 (m, km, mile)。
  * 指定した距離に基づく縮尺計算。
* **データ管理**:
  * 編集状態のJSONエクスポート/インポート。
* **UI**:
  * 閲覧モード/編集モードの切り替え。
  * ノード一覧サイドバー（クリックで選択）。
* マップのパン
  * SHIFTキーを押しながらマウス右ボタンでドラッグ
  * マウスホイールボタンを押しながらドラッグ
  * 左上のパンボタンが有効な時にマウス右ボタンでドラッグ

## 技術スタック

* React
* TypeScript
* Vite
* Tailwind CSS
* shadcn/ui
* Zustand (State Management)
* Lucide React (Icons)

## ライセンス

MIT License

Copyright (c) 2026 yasabihhagure

## 免責事項

本ツールで作成されたデータ、および本ツールの使用によって生じた、いかなる損害についても、作者（yasabihhagure）は一切の責任を負いません。ご利用は自己責任でお願いいたします。
